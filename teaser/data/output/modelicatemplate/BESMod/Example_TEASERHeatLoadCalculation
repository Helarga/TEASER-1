<%namespace file="/modelica_language/" import="get_true_false"/>
within ${bldg.parent.name}.${bldg.name};
model TEASERHeatLoadCalculation${bldg.name}
  extends BESMod.Systems.BaseClasses.TEASERExport.PartialTEASERHeatLoadCalculation(
    redeclare ${bldg.name} building,
    userProfiles(
        fileNameIntGains=Modelica.Utilities.Files.loadResource(
        "modelica://${bldg.parent.name}/${bldg.name}/InternalGains_${bldg.name}.txt"),
        dTSetBack=${-bldg.thermal_zones[0].use_conditions.heating_set_back},
        startTimeSetBack=${startTimeSetBack},
        hoursSetBack=${hoursSetBack}),
    systemParameters(nZones=${len(bldg.thermal_zones)},
                     TSetZone_nominal=${TSetZone_nominal},
                     TOda_nominal=${TOda_nominal},
                     filNamWea=Modelica.Utilities.Files.loadResource("modelica://${bldg.parent.name}/Resources/${bldg.parent.weather_file_name}")));

  annotation (
    experiment(StopTime=172800,
     Interval=600,
     Tolerance=1e-06),
   __Dymola_Commands(file=
        "Resources/Scripts/Dymola/${bldg.name}/TEASERHeatLoadCalculation${bldg.name}.mos"
        "Simulate and plot"));

end TEASERHeatLoadCalculation${bldg.name};